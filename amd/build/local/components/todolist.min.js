define("block_todo/local/components/todolist",["exports","core/reactive","block_todo/local/todo"],(function(_exports,_reactive,_todo){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;
/**
   * Todo list reactive component.
   *
   * @module     block_todo/local/components/todolist
   * @copyright  2023 Mikel Mart√≠n <mikel@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
class _default extends _reactive.BaseComponent{create(){this.name="todolist",this.selectors={TODOLIST:"[data-for='todo-list']",TODOS:"[data-for='todos']"}}static init(target,selectors){return new this({element:document.querySelector(target),reactive:_todo.todoReactive,selectors:selectors})}getWatchers(){return[{watch:"todos:created",handler:this._addTodo}]}async _addTodo(_ref){let{element:element}=_ref;const fakeElement=document.createElement("li");fakeElement.classList.add("d-none"),this.getElement(this.selectors.TODOS).appendChild(fakeElement);const data={id:element.id,name:element.name,done:!1},newcomponent=await this.renderComponent(fakeElement,"block_todo/local/todolistitem",data);fakeElement.parentNode.replaceChild(newcomponent.getElement(),fakeElement)}}return _exports.default=_default,_exports.default}));

//# sourceMappingURL=todolist.min.js.map